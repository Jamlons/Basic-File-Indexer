/home/jamlons/Documents/CITS2002 Second Project/CITS2002/CITS2002_project_2/trove.c
include trove h include file edits h include stdio h include stdbool h include stdlib h include string h include unistd h include getopt h char progname define optlist f brul cits2002 project 2 2022 student1 23135002 willoughby joel 65 student2 22895688 mcneil jarrad 35 to return information regarding the usage of this program void usage bool flag if flag printf nyou have entered the wrong invoking in the cmd printf nplease make sure you are either using n trove f trovefile word nor n trove f trovefile b r u l length positive integer filelist n exit exit failure main function of trove int main int argc char argv int counter 0 global structure read file structure rfs read file structure int opt default the structures with global variables rfs file name strdup default file name rfs min word length 4 bool bflag false bool uflag false bool rflag false opterr 0 while opt getopt argc argv optlist 1 accept file name if opt f rfs file name strdup optarg accept build option else if opt b bflag true if another option has already been given if rflag uflag argc 1 accept remove option else if opt r rflag true if another option has already been given if bflag uflag argc 1 accept update option else if opt u uflag true if another option has already been given if bflag rflag argc 1 accept word length else if opt l rfs min word length atoi optarg if word length isn t positive or is 0 if rfs min word length 0 argc 1 unknown argument else printf unknown argument n argc 1 if argc 0 usage 1 for each left over command while optind argc if searching for a word if bflag rflag uflag int file found 0 int temp optind temp if there are more than one word given break if temp argc usage 1 else add word to global structure rfs word strdup argv optind create pointer in read mode file find pointer read trove rfs file name if find pointer null exit exit failure find the words within given file file found find names find pointer fclose find pointer if file found exit exit success else exit exit failure else if bflag rflag uflag for each file given add to a list printf adding s to filelist n argv optind rfs filelist counter strdup argv optind counter optind if building a file if bflag build trove counter compress file read compressed if removing data from file else if rflag remove files counter compress file if updating a file else if uflag update trove counter return 1 
