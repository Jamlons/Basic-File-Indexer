/home/jamlons/Documents/CITS2002 Second Project/CITS2002/CITS2002_project_2/trove.c include trove include file edits include stdio include stdbool include stdlib include string include unistd include getopt char progname define OPTLIST brul void usage bool flag flag printf nYou have entered wrong invoking printf nPlease make sure either using trove trovefile word trove trovefile length positive integer filelist exit EXIT FAILURE main argc char argv counter Global structure READ FILE STRUCTURE read file structure file name strdup default file name word length bool bflag false bool uflag false bool rflag false opterr printf Gotten this printf nArgument Count argc while getopt argc argv OPTLIST printf Searching function Accept file name printf Accepted file name option file name strdup optarg Accept build option else printf Accepted build option bflag true rflag uflag printf nAlready option selected rflag printf nrflag selected before else printf nuflag selected before argc Accept remove option else printf Accepted remove option rflag true bflag uflag printf nAlready option selected argc Accept update option else printf Accepted update option uflag true bflag rflag printf nAlready option selected argc Accept word length else printf Accepted length option word length atoi optarg word length argc Unknown argument else printf Unknown argument argc argc printf nIncorrect Usage Program printf argc usage each left over command while optind argc searching word bflag rflag uflag file found printf nOptind count optind there more than word given temp optind temp printf Optind value optind temp argc usage else printf Grabbing word printf Optind value optind word strdup argv optind printf creating pointer FILE find pointer read trove file name file found find names find pointer word file found exit EXIT SUCCESS else exit EXIT FAILURE else bflag rflag uflag printf Build remove update option selected each filename list called filelist FILE test read trove argv optind test NULL printf Option invalid Please enter filename argv optind exit EXIT FAILURE printf Adding file filelist filelist counter strdup argv optind counter optind building file bflag printf Building trove build trove counter removing data from file else rflag printf removing trove remove files file name counter file name updating file else uflag printf updating trove update trove file name counter return 
/home/jamlons/Documents/CITS2002 Second Project/CITS2002/CITS2002_project_2/findfiles.c FUNCTION FINDING FILES WITHIN DIRECTORIES include trove include stdio include stdlib include types include stat include time include unistd include dirent file regular file directory Returns returns file attributes char filename struct stat stat buffer Failed open stat buffer given filename stat filename stat buffer perror progname exit EXIT FAILURE file readable else ISREG stat buffer mode return directory readable else ISDIR stat buffer mode return return Lists every file directory within given directory void list directory char dirname dirp struct dirent dirp opendir dirname failed open directory dirp NULL perror progname exit EXIT FAILURE while readdir dirp NULL file type file attributes name file type FILE append trove name printf name file path name read file name else printf This directory switch fork case printf fork failed exit EXIT FAILURE break case list directory name break default break Create child process giving them directory name going through list directory again closedir dirp 
