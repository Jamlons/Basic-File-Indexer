/home/jamlons/Documents/CITS2002 Second Project/CITS2002/CITS2002_project_2/trove.c
include trove h include file edits h include stdio h include stdbool h include stdlib h include string h include unistd h include getopt h CITS Project Student WILLOUGHBY JOEL Student MCNEIL JARRAD char progname define OPTLIST f brul To return information regarding the usage of this program void usage bool flag if flag printf nYou have entered the wrong invoking in the cmd printf nPlease make sure you are either using n trove f trovefile word nor n trove f trovefile b r u l length positive integer filelist n exit EXIT FAILURE Main function of trove int main int argc char argv int counter Global structure READ FILE STRUCTURE rfs read file structure int opt Default the structures with global variables rfs file name strdup default file name rfs min word length bool bflag false bool uflag false bool rflag false opterr while opt getopt argc argv OPTLIST Accept file name if opt f rfs file name strdup optarg Accept build option else if opt b bflag true If another option has already been given if rflag uflag argc Accept remove option else if opt r rflag true If another option has already been given if bflag uflag argc Accept update option else if opt u uflag true If another option has already been given if bflag rflag argc Accept word length else if opt l rfs min word length atoi optarg If word length isn t positive or is if rfs min word length argc Unknown argument else printf Unknown argument n argc if argc usage For each left over command while optind argc If searching for a word if bflag rflag uflag int file found int temp optind temp If there are more than one word given break if temp argc usage else Add word to global structure rfs word strdup argv optind Create pointer in read mode FILE find pointer read trove rfs file name if find pointer NULL exit EXIT FAILURE Find the words within given file file found find names find pointer fclose find pointer if file found exit EXIT SUCCESS else exit EXIT FAILURE else if bflag rflag uflag For each file given add to a list rfs filelist counter strdup argv optind counter optind If building a file if bflag printf Building Trove build trove counter compress file If removing data from file else if rflag remove files counter compress file If updating a file else if uflag update trove counter compress file return 
/home/jamlons/Documents/CITS2002 Second Project/CITS2002/CITS2002_project_2/filenames.c
FUNCTION FOR FINDING THE GIVEN WORD WITHIN THE GIVEN TROVEFILE include trove h include string h include stdio h Find the word given by user within the File stream provided Returns if a name is found otherwise returns int find names FILE fp Global Structure READ FILE STRUCTURE rfs read file structure int amount of files found char buf char line NULL char file path NULL size t linesize ssize t linelen Count for what line we are on int count While grabbing each line from the file while linelen getline line linesize fp If line is a filepath line odd number if count Copy the line to file path and continue file path strdup line count continue count Grab the first word with a space token buf strtok line While parsing through each word while buf NULL Copy the word to a temp memory location needs to work for strcmp to work char temp strdup rfs word If the parsed word does equal the word we are searching for if strcmp temp buf Print file path out and break out of the entire loop printf s file path amount of files found break buf strtok NULL Return if file is found return amount of files found 
